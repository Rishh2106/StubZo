üîπ Final Refined Prompt (Machine-Understandable Format)

Project Name: Hostel Management System
Tech Stack:

Frontend: React (Vite + JavaScript)

Backend: Spring Boot (Java 21)

Database: MySQL

ORM: Spring Data JPA

Build Tool: Gradle or Maven

Authentication: Spring Security + JWT

üèóÔ∏è Core Functional Modules
1. Authentication & Authorization

Use JWT-based authentication.

Implement Role-based Access Control (RBAC) with roles:

ADMIN

PSEUDO_ADMIN

EMPLOYEE

WORKER

RESIDENT

Admins can create and remove users of any role.

Pseudo Admin inherits Admin‚Äôs rights but with limited duration and custom permissions.

Residents register via signup and submit an Aadhar Card image (file) and ID number.

Each user must have:

id, username, password, email, role, status (active/inactive)

For residents: aadharNumber, aadharImage, roomAssigned

2. Admin Features

Add, edit, and remove:

Employees, Workers, Residents, and Pseudo Admins.

Buildings, Rooms, and Services.

Buildings Management:

Fields: buildingId, buildingName, totalRooms, startingRoomNumber, customRoomNumbering (bool), createdAt

Admin decides rent per room and can modify it later.

Room Management:

Fields: roomId, roomNumber, buildingId, sharingType (single/double/triple/custom), capacity, rent, occupants[]

Admin can define default and custom sharing capacities.

Service Management:

Fields: serviceId, serviceName, description

Assign workers to specific services.

Pseudo Admin Management:

Fields: pseudoAdminId, assignedBy, startDate, endDate, permissions[], isRevoked

Allow revocation before expiry.

Show history of previous pseudo admins.

3. Pseudo Admin Features

Has access similar to Admin based on assigned permissions:

May manage rooms, residents, workers, or buildings.

Cannot create other pseudo admins.

4. Employee Features

Can add residents and assign rooms to them.

Can view available rooms with filters by sharing type.

Can assign work requests to workers (by room number + service type).

Can remove residents from rooms.

Before assigning a room, must view:

Resident‚Äôs details (name, Aadhar photo, Aadhar number).

5. Worker Features

Associated with one or more services.

Receives service requests with:

roomNumber, residentName, serviceType, note

Can mark request as Completed.

Request history is stored for 48 hours after completion.

6. Resident Features

Register ‚Üí Upload Aadhar (file) + enter number.

Can view assigned room details.

Can raise service requests:

Fields: requestId, residentId, serviceType, roomNumber, note, status (Pending/InProgress/Completed), createdAt

Can track status of their requests.

üß© Entity Relationships (Simplified)

Admin (1) ‚Üî Buildings (M)

Building (1) ‚Üî Rooms (M)

Room (1) ‚Üî Residents (M)

Service (1) ‚Üî Workers (M)

Worker (1) ‚Üî ServiceRequests (M)

Employee (M) ‚Üî Residents (M) (via room assignment)

PseudoAdmin (1) ‚Üî Permissions (M)

üíæ Database Table Fields (Key Suggestions)
Entity	Important Fields
User	id, name, email, password, role, status
Building	id, name, totalRooms, baseRoomNo, roomCountStart, createdAt
Room	id, buildingId, roomNumber, sharingType, capacity, rent, status
Resident	id, userId, aadharNumber, aadharImagePath, assignedRoomId
Employee	id, userId, assignedByAdminId
Worker	id, userId, serviceId
Service	id, name, description
ServiceRequest	id, residentId, workerId, serviceId, note, status, createdAt, completedAt
PseudoAdmin	id, userId, validFrom, validTo, permissions (JSON), revoked (bool)
‚öôÔ∏è Spring Boot Dependencies (Gradle/Maven)

Required Core Dependencies:

spring-boot-starter-web

spring-boot-starter-data-jpa

spring-boot-starter-security

spring-boot-starter-validation

jjwt-api, jjwt-impl, jjwt-jackson (for JWT)

mysql-connector-j

spring-boot-starter-mail (optional: for sending credentials)

spring-boot-devtools (for hot reload)

lombok (for cleaner model classes)

Optional (for advanced features):

springdoc-openapi-starter-webmvc-ui (for Swagger API docs)

spring-boot-starter-thymeleaf (if you need admin email templates)

‚öõÔ∏è Vite + React Dependencies

Essential:

react, react-dom

react-router-dom

axios (for API calls)

react-query (for data fetching)

tailwindcss (for styling)

@headlessui/react or shadcn/ui (for UI components)

react-toastify (for notifications)

formik + yup (for form validation)

jwt-decode (to decode and handle JWT tokens)

zustand or redux (for global state management)

üîê Authentication Flow Summary

Use Spring Security with JWT tokens.

Store JWT in HttpOnly cookies or localStorage (prefer HttpOnly).

Protect routes in React using <PrivateRoute> and role-based access guards.

Login ‚Üí JWT issued ‚Üí token validates user‚Äôs role ‚Üí redirect to dashboard based on role.

üß† Bonus Ideas (for completeness)

Dashboard per Role

Each role sees only relevant info: Residents ‚Üí Room + Requests, Employees ‚Üí Room Assignments, Admin ‚Üí Full control.

Audit Logs

Keep track of actions (who added/removed whom, rent updates, etc.)

Notification System

Workers get notified when assigned a new request.

File Uploads

Store Aadhar images in /uploads/aadhar/ with file naming as residentId_timestamp.jpg.

Soft Deletes

Instead of deleting records, mark them as inactive (status = false) for audit integrity.

Create a full-stack Hostel Management System using React (Vite + JS) for frontend and Spring Boot (Java 21 + MySQL) for backend.

Include role-based access control for Admin, Pseudo Admin, Employee, Worker, and Resident.

Implement JWT authentication, MySQL persistence with JPA, and RESTful APIs for CRUD operations on users, buildings, rooms, services, and service requests.

Follow the detailed role permissions and entity relationships defined below:
[insert the above ‚ÄúCore Functional Modules‚Äù, ‚ÄúEntity Relationships‚Äù, and ‚ÄúTable Fields‚Äù sections here]


üß± Full Stack Architecture for Hostel Management System
üß© Tech Stack Summary
Layer	Technology
Frontend	Vite + React (JavaScript)
Styling	Tailwind CSS
State Management	Zustand or Redux Toolkit
Form Handling	Formik + Yup
Notifications	React Toastify
HTTP	Axios
Routing	React Router DOM
Backend	Spring Boot (Java 21)
ORM	Spring Data JPA
Database	MySQL
Auth	JWT + Spring Security
Build Tool	Gradle
API Docs	Swagger (springdoc-openapi)
‚öôÔ∏è BACKEND STRUCTURE (Spring Boot)

Root package:
com.hostelmanagement

com.hostelmanagement
‚îÇ
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ SecurityConfig.java
‚îÇ   ‚îú‚îÄ‚îÄ JwtAuthFilter.java
‚îÇ   ‚îú‚îÄ‚îÄ JwtUtil.java
‚îÇ   ‚îî‚îÄ‚îÄ CorsConfig.java
‚îÇ
‚îú‚îÄ‚îÄ controller/
‚îÇ   ‚îú‚îÄ‚îÄ AuthController.java
‚îÇ   ‚îú‚îÄ‚îÄ AdminController.java
‚îÇ   ‚îú‚îÄ‚îÄ PseudoAdminController.java
‚îÇ   ‚îú‚îÄ‚îÄ EmployeeController.java
‚îÇ   ‚îú‚îÄ‚îÄ WorkerController.java
‚îÇ   ‚îú‚îÄ‚îÄ ResidentController.java
‚îÇ   ‚îú‚îÄ‚îÄ BuildingController.java
‚îÇ   ‚îú‚îÄ‚îÄ RoomController.java
‚îÇ   ‚îú‚îÄ‚îÄ ServiceController.java
‚îÇ   ‚îî‚îÄ‚îÄ ServiceRequestController.java
‚îÇ
‚îú‚îÄ‚îÄ dto/
‚îÇ   ‚îú‚îÄ‚îÄ LoginRequest.java
‚îÇ   ‚îú‚îÄ‚îÄ SignupRequest.java
‚îÇ   ‚îú‚îÄ‚îÄ RoomDTO.java
‚îÇ   ‚îú‚îÄ‚îÄ BuildingDTO.java
‚îÇ   ‚îú‚îÄ‚îÄ ServiceRequestDTO.java
‚îÇ   ‚îî‚îÄ‚îÄ UserDTO.java
‚îÇ
‚îú‚îÄ‚îÄ entity/
‚îÇ   ‚îú‚îÄ‚îÄ User.java
‚îÇ   ‚îú‚îÄ‚îÄ Role.java
‚îÇ   ‚îú‚îÄ‚îÄ Building.java
‚îÇ   ‚îú‚îÄ‚îÄ Room.java
‚îÇ   ‚îú‚îÄ‚îÄ Resident.java
‚îÇ   ‚îú‚îÄ‚îÄ Employee.java
‚îÇ   ‚îú‚îÄ‚îÄ Worker.java
‚îÇ   ‚îú‚îÄ‚îÄ Service.java
‚îÇ   ‚îú‚îÄ‚îÄ ServiceRequest.java
‚îÇ   ‚îî‚îÄ‚îÄ PseudoAdmin.java
‚îÇ
‚îú‚îÄ‚îÄ repository/
‚îÇ   ‚îú‚îÄ‚îÄ UserRepository.java
‚îÇ   ‚îú‚îÄ‚îÄ BuildingRepository.java
‚îÇ   ‚îú‚îÄ‚îÄ RoomRepository.java
‚îÇ   ‚îú‚îÄ‚îÄ ResidentRepository.java
‚îÇ   ‚îú‚îÄ‚îÄ EmployeeRepository.java
‚îÇ   ‚îú‚îÄ‚îÄ WorkerRepository.java
‚îÇ   ‚îú‚îÄ‚îÄ ServiceRepository.java
‚îÇ   ‚îú‚îÄ‚îÄ ServiceRequestRepository.java
‚îÇ   ‚îî‚îÄ‚îÄ PseudoAdminRepository.java
‚îÇ
‚îú‚îÄ‚îÄ service/
‚îÇ   ‚îú‚îÄ‚îÄ AuthService.java
‚îÇ   ‚îú‚îÄ‚îÄ UserService.java
‚îÇ   ‚îú‚îÄ‚îÄ AdminService.java
‚îÇ   ‚îú‚îÄ‚îÄ EmployeeService.java
‚îÇ   ‚îú‚îÄ‚îÄ WorkerService.java
‚îÇ   ‚îú‚îÄ‚îÄ PseudoAdminService.java
‚îÇ   ‚îú‚îÄ‚îÄ RoomService.java
‚îÇ   ‚îú‚îÄ‚îÄ BuildingService.java
‚îÇ   ‚îî‚îÄ‚îÄ ServiceRequestService.java
‚îÇ
‚îú‚îÄ‚îÄ exception/
‚îÇ   ‚îú‚îÄ‚îÄ CustomException.java
‚îÇ   ‚îú‚îÄ‚îÄ ResourceNotFoundException.java
‚îÇ   ‚îú‚îÄ‚îÄ InvalidRoleException.java
‚îÇ   ‚îî‚îÄ‚îÄ GlobalExceptionHandler.java
‚îÇ
‚îú‚îÄ‚îÄ util/
‚îÇ   ‚îú‚îÄ‚îÄ FileStorageUtil.java  // for saving Aadhar images
‚îÇ   ‚îú‚îÄ‚îÄ RoleConstants.java
‚îÇ   ‚îî‚îÄ‚îÄ PermissionConstants.java
‚îÇ
‚îî‚îÄ‚îÄ HostelManagementApplication.java

üóÑÔ∏è Backend Folder Logic Summary

config/ ‚Äî All security, JWT, and CORS configurations.

controller/ ‚Äî REST endpoints per entity or role.

dto/ ‚Äî Transfer objects to decouple entity data from request/response.

entity/ ‚Äî JPA entities mapped to MySQL tables.

repository/ ‚Äî JPA repositories for CRUD and query operations.

service/ ‚Äî Business logic layer.

exception/ ‚Äî Centralized error handling.

util/ ‚Äî Helper utilities (e.g., file uploads, role constants).

‚öôÔ∏è Backend Key Endpoints Overview
Endpoint	Method	Access	Description
/api/auth/login	POST	Public	Authenticate user via JWT
/api/auth/signup	POST	Public	Register resident
/api/admin/addBuilding	POST	Admin	Add building details
/api/admin/addRoom	POST	Admin	Add rooms in building
/api/admin/addPseudoAdmin	POST	Admin	Create pseudo admin with permissions
/api/employee/addResident	POST	Employee	Add resident
/api/employee/assignRoom	PUT	Employee	Assign resident to room
/api/serviceRequest/add	POST	Resident	Create service request
/api/worker/updateRequestStatus	PUT	Worker	Mark service request completed
üß© Database Entity Mapping Overview (Simplified UML Logic)
User
 ‚îú‚îÄ‚îÄ id, name, email, password, role, status
 ‚îú‚îÄ‚îÄ OneToOne ‚Üí Resident / Worker / Employee / PseudoAdmin (depending on role)

Building
 ‚îú‚îÄ‚îÄ id, name, totalRooms, baseRoomNo, createdAt
 ‚îî‚îÄ‚îÄ OneToMany ‚Üí Room

Room
 ‚îú‚îÄ‚îÄ id, number, sharingType, rent, status
 ‚îú‚îÄ‚îÄ ManyToOne ‚Üí Building
 ‚îî‚îÄ‚îÄ OneToMany ‚Üí Resident

Service
 ‚îú‚îÄ‚îÄ id, name, description
 ‚îî‚îÄ‚îÄ OneToMany ‚Üí Worker

ServiceRequest
 ‚îú‚îÄ‚îÄ id, note, status, createdAt, completedAt
 ‚îú‚îÄ‚îÄ ManyToOne ‚Üí Resident
 ‚îú‚îÄ‚îÄ ManyToOne ‚Üí Worker
 ‚îî‚îÄ‚îÄ ManyToOne ‚Üí Service

‚öõÔ∏è FRONTEND STRUCTURE (Vite + React + Tailwind)

Root: /client

client/
‚îÇ
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ index.html
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ axiosInstance.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ authApi.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ buildingApi.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ roomApi.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ serviceApi.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ serviceRequestApi.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ userApi.js
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logo.svg
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ forms/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoginForm.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SignupForm.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AddResidentForm.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminDashboard.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EmployeeDashboard.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WorkerDashboard.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ResidentDashboard.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PseudoAdminDashboard.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ common/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Navbar.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Sidebar.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProtectedRoute.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Modal.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cards/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ RoomCard.jsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ServiceCard.jsx
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ResidentCard.jsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ context/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthContext.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RoleContext.jsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useAuth.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useFetch.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useRoleGuard.js
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Login.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Signup.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminPanel.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EmployeePanel.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ResidentPanel.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WorkerPanel.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PseudoAdminPanel.jsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ router/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AppRouter.jsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ store/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useAuthStore.js
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ styles/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.css
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tokenUtils.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ roleUtils.js
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ App.jsx
‚îÇ   ‚îî‚îÄ‚îÄ main.jsx
‚îÇ
‚îî‚îÄ‚îÄ tailwind.config.js

üß≠ Frontend Functional Flow

Login / Signup

Resident signup ‚Üí upload Aadhar + number ‚Üí backend verification.

JWT stored in localStorage.

Role-Based Dashboards

Redirect based on role from JWT.

Admin ‚Üí manage all modules.

Employee ‚Üí manage residents & room assignments.

Worker ‚Üí manage assigned service tasks.

Resident ‚Üí view room & raise service requests.

Protected Routes

ProtectedRoute component checks JWT validity and role.

UI States

Zustand store maintains auth, userRole, and session details.

‚öôÔ∏è Frontend API Workflow Example
// axiosInstance.js
import axios from "axios";

const instance = axios.create({
  baseURL: "http://localhost:8080/api",
  headers: { "Content-Type": "application/json" },
});

instance.interceptors.request.use(config => {
  const token = localStorage.getItem("token");
  if (token) config.headers.Authorization = `Bearer ${token}`;
  return config;
});

export default instance;

üì¶ Recommended npm Packages
npm install react-router-dom axios tailwindcss postcss autoprefixer react-toastify formik yup jwt-decode zustand

üß† Advanced Add-ons (Optional for Later)
Feature	Purpose	Stack
File Uploads	Store Aadhar images	Spring Boot Multipart + Frontend file input
Activity Logs	Track user actions	MySQL Audit Table
Dashboard Charts	Visualization	Recharts / Chart.js
Email Notifications	Send pseudo admin creds	Spring Boot Mail
Admin Reports	Occupancy and service stats	Custom API + CSV export
üöÄ Development Flow Recommendation

Step 1: Scaffold Spring Boot backend with entities + JWT auth.

Step 2: Create REST endpoints per role/module.

Step 3: Test APIs via Postman or Swagger.

Step 4: Create Vite React project and connect to backend via Axios.

Step 5: Implement role-based routing & dashboards.

Step 6: Add service request flow and room assignment.

Step 7: Refine UI with Tailwind, modals, and validation.